# 7DAYS - SIGNAL BEYOND THE FOG

![0273325a-27c9-4e8f-ae57-601f98e7293b](https://github.com/user-attachments/assets/a122dbf8-751e-4753-8e1d-29953add64d9)

- **장르**: 쿼터뷰 생존 디펜스 + 전략 시뮬레이션

- **플랫폼**: Unity (3D)

- **주요 키워드**: 드론, 자동화, 자원 채집, 건물 수리 및 건설, 웨이브 방어, AI 시스템, 사운드 연동

---

## 컨트롤 안내

### 1) 플레이어 조작

| 키 입력       | 설명                                        |
|---------------|---------------------------------------------|
| WASD          | 플레이어 이동                               |
| 마우스 이동   | 플레이어가 보는 방향 변경                   |
| Shift         | 플레이어가 보는 방향으로 빠르게 구름        |
| I             | 인벤토리 열기 (아이템 확인/사용/등록/버리기) |
| 1~4           | 퀵슬롯 (왼쪽부터 순서대로 1~4)              |
| F             | 무기 조준선 등장 및 발사 모드 전환          |
| 5             | 무기 변경: 포탑 공격 속도 향상             |
| 6             | 무기 변경: 적 이동 속도 감소               |
| 마우스 좌클릭 | 무기 발사                                   |
| 마우스 우클릭 | 무기 발사 취소                              |
| E             | 상호작용 (자원, 드론 사무소, 정제소 등)     |
| G             | 오토바이 소환                               |
| TAB           | 미니맵 On/Off                               |

>  무기 쿨타임은 화면 아래에서 확인할 수 있습니다.

---

### 2) 건설 모드

| 단축키 | 건물 종류 | 설명                                              |
|--------|------------|---------------------------------------------------|
| F1     | 벽         | 적의 경로를 가로막는 벽 생성                     |
| F2     | 발전기     | 주변 건물에 전력 공급 (정수기, 터렛에 필요)      |
| F3     | 정수기     | 오염된 물을 정화하여 갈증 해소                   |
| F4     | 터렛       | 주변 적을 자동으로 공격하는 포탑                 |

| 마우스 조작         | 설명                                      |
|---------------------|-------------------------------------------|
| 마우스 이동         | 건물 배치 위치 설정                        |
| 마우스 왼쪽 클릭    | 건설 (건물이 빨간색이 아닐 때)            |
| 마우스 휠 업/다운   | 건물 청사진 회전                          |
| ESC / 마우스 우클릭 | 건설 취소                                 |

> 드론 조작 : 드론 사무소에 상호작용(E) - 각 드론에 채집/건설/수리 명령

> 건설 모드에서 배치한 후 드론으로 건설까지 마쳐야 건물이 동작합니다.

---

### 프로젝트 주제 및 선정 배경

이 프로젝트는 인류가 사라진 세계, 안개로 뒤덮인 무인도, 그리고 기억을 송신하려는 복제 설계자의 이야기에서 출발합니다.우리는 기존의 정적인 생존 게임 구조에서 벗어나, **AI 드론을 활용한 자동화 시스템**과 **플레이어의 전략적 개입**이 조화를 이루는 새로운 형태의 생존 경험을 구현하고자 했습니다.

반복적인 생존 루틴에 머무르지 않고, 드론을 통해 효율적인 자원 채집과 기지 운영을 자동화함으로써 보다 높은 몰입감과 템포 조절이 가능하도록 설계했습니다.

---

### 기획 의도

플레이어가 단순히 생존하는 것이 아닌, **생산/운영/방어**를 지휘하는 **커맨더 역할**을 수행하게 한다

드론 AI의 자동화와 플레이어 개입 사이에서 전략적 판단을 요구

**자원 채집**, **건물 업그레이드**, **웨이브 방어**의 흐름 안에 기억 회복이라는 메타 내러티브를 통합

낮과 밤의 명확한 위기/회복 사이클을 설계하여, 게임 내 몰입도를 높인다

---

### 게임 콘셉트

"**7Days(Signal Beyond the Fog)**"는 정체불명의 무인도에서 깨어난 복원자-03이 과거의 기억을 되찾기 위해 AI 드론과 함께 생존하고, 구조 신호를 송신하기 위해 신호탑을 강화하는 **전략적 생존 디펜스 게임**입니다.

낮에는 자원을 채집하고 기지를 보강

밤에는 몰려오는 괴물 웨이브를 방어

신호탑을 강화할수록 섬의 진실에 가까워짐

---

 ### 주요 기능 요약
#### 건설 시스템

- 건물 종류

| 건물명       | 설명                                                                 |
|--------------|----------------------------------------------------------------------|
| 신호탑     | 게임 시작 화면 위쪽의 큰 등대. **해당 건물을 지키는 것이 목표**입니다. |
| 드론 사무소 | 게임 시작 화면 왼쪽에 위치한 미래지향적 건물. **상호작용하여 드론에 명령**할 수 있습니다. |
| 벽         | 적의 진입을 막는 구조물로, **체력이 높아 방어용으로 적합**합니다.       |
| 발전기     | **주변 건물에 전력을 공급**합니다. 발전기가 있어야 **정제소 및 자동 포탑**이 건설/작동 가능합니다. |
| 정제소     | **오염된 물을 정화**하는 건물입니다. 상호작용하여 오염된 물을 투입하면 **정제된 물을 획득**할 수 있습니다. |
| 자동 포탑 | **주변의 적을 자동으로 공격**하는 방어용 건물입니다.                     |

- 건물은 수리 및 건설 가능하며, 고유 체력과 기능을 보유

- 클래시오브클랜 방식의 배치 시스템 적용

- 드론이 직접 건물 건설 수행 (건설 대기열 → 드론이 이동 → 건설 시간 진행)

#### 드론 시스템

- 드론은 자동 채집, 수리, 건설 수행

- 드론은 생성/선택/명령이 가능하며, 상태(Idle, Gathering, Repairing, Building 등)를 가짐

- 수리 및 건설에는 자원이 소모됨 (예: Scrap)

#### 자원 시스템

- 자원은 다양한 채집소(폐허, 연료탱크 등)에서 획득 가능

- 채집 후 일정 시간 후 리스폰

- 자원 종류:

  - 고철(Scrap)

  - 회로 조각(Circuit)

  - 연료셀(FuelCell)

  - 오염된 물(DirtyWater) → 정제소 → 정제수(CleanWater)

  - 식량 (통조림, 건조 식량팩)

  - 기억 코어(MemoryCore)

#### 전투 & 웨이브 시스템

- 총 7일 생존 기반 웨이브 시스템

- 날이 갈수록 몬스터 강도와 수가 증가

- 특정 날 밤에는 보스 몬스터 등장

#### Player 시스템
- 플레이어는 중앙 `Player` 스크립트를 중심으로 **입력**, **이동**, **무기**, **상태** 등 기능을 **모듈화**하여 관리하며, **유지보수**와 **확장성**이 용이한 구조로 설계하였습니다.

| 스크립트명               | 역할 설명                              |
|--------------------------|----------------------------------------|
| **Player**                 | 중앙 허브 역할, 각 기능들을 관리 및 참조 |
| **PlayerController**       | InputSystem 입력 처리                   |
| **PlayerStatus**           | 체력 및 스태미나 등 상태 관리           |
| **PlayerMovement**         | 이동 및 회전, 대쉬                      |
| **PlayerWeaponHandler**    | 무기 장착/해제/투척 처리                |
| **PlayerVehicleHandler**   | 탈것 호출 및 탑승                       |
| **PlayerAnimationHandler** | 애니메이션 상태 설정                    |
| **PlayerAudioHandler**     | 사운드 처리                             |
| **PlayerEventHandler**     | 커스텀 이벤트 트리거                    |

![image](https://github.com/user-attachments/assets/26ef535e-fbce-4440-864b-cc81084a9f40)

> 인게임 화면

![스크린샷 2025-06-01 183229](https://github.com/user-attachments/assets/15be0891-e2eb-4e42-b0f9-94cf1885bada)

---

### 주요 스크립트 구조

`DroneUnit`, `DroneHandler`: 드론 이동, 수집, 수리, 건설

`Resource`, `SpawnManager`: 자원 채집 및 리스폰

`ResourceManager`: 자원 통합 관리

`RepairableBuilding`, `BaseBuilding`: 건물 수리 및 건설 상태 관리

`WaveController`: 웨이브 진행 및 몬스터 스폰

`UIManager`, `UI_Inventory`, `UI_Dialogue`: 인터페이스

`AudioManager`: BGM/SFX 통합 관리 (자동 등록 지원)

--- 

### 사운드

- 효과음과 배경음은 무료 에셋 기반

`AudioManager.cs`를 통해 싱글톤 구조로 통합 제어

각 스크립트에서 키워드 기반으로 간편 재생 가능

![스크린샷 2025-06-01 191007](https://github.com/user-attachments/assets/30809c8a-1277-4284-9ead-9eec872f76b3)


---

### 🧠 몬스터 AI 시스템

 **Transition 기반 외부 상태 전환 관리**와 **상태 머신(State Machine)** 아키텍처를 사용하는 **모듈형 몬스터 AI 시스템**입니다. 
 각 몬스터는 `AI_BASE` 클래스를 상속하며, 고유한 행동 패턴과 공격 로직을 가집니다.
![image](https://github.com/user-attachments/assets/2753947f-1920-493b-8afa-aa2dd4e958d6)
![image](https://github.com/user-attachments/assets/4c3fe95e-e0d5-4a88-a2d2-0e6b14113ddd)


| 몬스터            | 설명                                                           |
| -------------- | ------------------------------------------------------------ |
| `AI_Husk`      | Player 우선 공격                                                 |
| `AI_Spine`     | 공중에서 타워 우선 공격 (필요 시 Player 전환)                               |
| `AI_Acid`      | 독사체로 타워 공격                                                   |
| `AI_Runner`    | 빠르게 달려서 타워 돌진                                                |
| `AI_Stealth`   | 5초마다 은신하며 Player 공격                                          |
| `AI_Stealer`   | 드론 우선 공격                                                     |
| `AI_Collapser` | **보스 몬스터**<br>페이즈 1: 타워 집중 공격<br>페이즈 2: Player 분신 생성 및 광역 공격 |



## 📦 아키텍처 개요

### 🧩 핵심 구성 요소

- **`AI_BASE`**
  - 모든 몬스터의 기본 클래스
  - 상태 머신(`AI_StateMachine`) 포함

- **`AI_StateMachine`**
  - 현재 상태를 저장하고 관리
  - `Transition` 객체를 통해 외부 조건에 따라 상태 전환 수행

- **`Transition`**
  - 상태 전환 조건과 대상 상태를 외부에서 명시
  - 상태 클래스 내부의 조건 분기 제거 → 유지보수성과 테스트 용이성 증가

### 🔁 상태 시스템

모든 상태는 `AIState` 클래스를 상속받습니다.

---

### 개발 가이드

- `ResourceType`과 `ItemData`는 `enum`으로 통일 관리

- 모든 자원과 건물은 `ScriptableObject` 또는 `enum` 기반 설계

- 드론은 `DroneManagerOffice`와 `DroneHandler`를 통해 관리

- 기능 단위별 모듈화: **유지보수** 및 **확장** 용이

---

### 팀원 구성

| 이름     | 역할                  |
|----------|-----------------------|
| 설민우   | **팀장** / UI 및 인벤토리 |
| 박유빈   | 팀원 / 건설 시스템    |
| 송승윤   | 팀원 / 적 AI와 라운드 관리 |
| 심교인   | 팀원 / 게임 기획 및 사운드매니저 |
| 이시율   | 팀원 / 자원 관리      |
| 장민제   | 팀원 / 플레이어       |








